@prefix : <http://www.semanticweb.org/ontology#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix agentrole: <http://www.ontologydesignpatterns.org/cp/owl/agentrole.owl#> .

:University rdf:type owl:Class .

:Department rdf:type owl:Class ;
            rdfs:subClassOf :University .

:PhDStudent rdf:type owl:Class ;
            rdfs:subClassOf agentrole:Agent .

:hasDepartment rdf:type owl:ObjectProperty ;
               rdfs:domain :PhDStudent ;
               rdfs:range :Department .

:startedStudiesIn rdf:type owl:DatatypeProperty ;
                  rdfs:domain :PhDStudent ;
                  rdfs:range xsd:gYear .

:hasPhDStudent rdf:type owl:ObjectProperty ;
               owl:inverseOf :hasDepartment ;
               rdfs:domain :Department ;
               rdfs:range :PhDStudent .

:DepartmentWithPhDStudentsFrom2004 rdf:type owl:Class ;
                                   owl:equivalentClass [
                                       rdf:type owl:Class ;
                                       owl:intersectionOf (
                                           :Department
                                           [ rdf:type owl:Restriction ;
                                             owl:onProperty :hasPhDStudent ;
                                             owl:someValuesFrom [
                                                 rdf:type owl:Restriction ;
                                                 owl:onProperty :startedStudiesIn ;
                                                 owl:hasValue "2004"^^xsd:gYear
                                             ]
                                           ]
                                       )
                                   ] .

:Year rdf:type owl:Class ;
      owl:equivalentClass xsd:gYear .

:hasYear rdf:type owl:ObjectProperty ;
         rdfs:domain [ rdf:type owl:Class ;
                       owl:unionOf (:PhDStudent :University)
                     ] ;
         rdfs:range :Year .

:PhDTrendAnalysis rdf:type owl:Class .

:hasNumberOfPhDStudents rdf:type owl:DatatypeProperty ;
                        rdfs:domain :Year ;
                        rdfs:range xsd:nonNegativeInteger .

:hasTrend rdf:type owl:ObjectProperty ;
          rdfs:domain :PhDTrendAnalysis ;
          rdfs:range xsd:string .

:YearlyPhDTrendAnalysis rdf:type owl:Class ;
                         rdfs:subClassOf :PhDTrendAnalysis ;
                         owl:equivalentClass [
                             rdf:type owl:Class ;
                             owl:intersectionOf (
                                 :PhDTrendAnalysis
                                 [ rdf:type owl:Restriction ;
                                   owl:onProperty :hasNumberOfPhDStudents ;
                                   owl:someValuesFrom xsd:nonNegativeInteger
                                 ]
                             )
                         ] .

:UniversityWithPhDTrendAnalysis rdf:type owl:Class ;
                                owl:equivalentClass [
                                    rdf:type owl:Class ;
                                    owl:intersectionOf (
                                        :University
                                        [ rdf:type owl:Restriction ;
                                          owl:onProperty :hasYearlyTrendAnalysis ;
                                          owl:someValuesFrom :YearlyPhDTrendAnalysis
                                        ]
                                    )
                                ] .

:hasYearlyPhDTrendAnalysis rdf:type owl:ObjectProperty ;
                           rdfs:domain :University ;
                           rdfs:range :YearlyPhDTrendAnalysis .

